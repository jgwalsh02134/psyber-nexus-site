<!doctype html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8">
  <title>Chat · Psyber Nexus</title>
  <meta name="description" content="Psyber Nexus chatbot streaming via secure proxy.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#0b0d12">
  <meta name="color-scheme" content="dark">
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="manifest" href="/manifest.webmanifest">
  <link rel="stylesheet" href="/assets/css/site.css">
  <!-- Markdown parser (Marked) -->
  <script src="https://cdn.jsdelivr.net/npm/marked@12/lib/marked.umd.min.js" crossorigin="anonymous"></script>
  <!-- Sanitizer (DOMPurify) -->
  <script src="https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.min.js" crossorigin="anonymous"></script>
  <script>
    window.__md_ok__ = !!(window.marked && window.DOMPurify);
    if(!window.__md_ok__) console.warn("[MD] Marked/DOMPurify not available");
  </script>
</head>
<body class="page">
  <a class="sr-only sr-only-focusable" href="#chat-shell">Skip to content</a>

  <header class="header" role="banner">
    <div class="wrap">
      <div class="brand"><a class="logo" href="/">Psyber Nexus</a></div>
      <button id="nav-toggle" class="btn ghost nav-toggle" aria-expanded="false" aria-controls="site-nav">Menu</button>
      <nav id="site-nav" class="nav" aria-label="Primary">
        <ul class="nav-list">
          <li><a href="/about/">About</a></li>
          <li><a href="/methods/">Methods</a></li>
          <li><a aria-current="page" href="/chat/">Chat</a></li>
          <li><a href="/contact/">Contact</a></li>
          <li><a href="/api/health">Status</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="chat-shell" class="wrap chat-shell" tabindex="-1">
    <section id="chat-panel" class="chat-panel" aria-label="Conversation">
      <div class="chat-header wrap" id="chat-header" role="toolbar" aria-label="Conversation actions">
        <div class="grow"></div>
        <select id="mode-select" class="mode-pill" aria-label="Mode">
          <option value="quality" selected>Quality</option>
          <option value="speed">Speed</option>
        </select>
        <span id="model-pill" class="model-pill" title="Model in use"></span>
        <button id="copy-thread" class="icon-btn" aria-label="Copy conversation as Markdown" title="Copy thread">
          <img class="icon-img" src="/assets/icons/copy-2.svg" alt="" loading="lazy" decoding="async">
        </button>
        <button id="share-thread" class="icon-btn" aria-label="Share conversation" title="Share">
          <img class="icon-img" src="/assets/icons/share-2.svg" alt="" loading="lazy" decoding="async">
        </button>
      </div>
      <div id="chat-rail">
        <ol id="chat-log" class="chat-log" aria-live="polite" aria-relevant="additions"></ol>
        <button id="jump-latest" class="btn ghost to-bottom" type="button" hidden aria-label="Jump to latest">Jump to latest</button>
        <form id="chat-form" class="chat-form" novalidate>
          <label class="sr-only" for="chat-input">Message</label>
          <textarea id="chat-input" rows="1" placeholder="Ask Psyber Nexus…" autocomplete="off"></textarea>
          <div class="chat-actions">
            <button id="send-btn" class="btn" type="submit">Send</button>
            <button id="stop-btn" class="btn ghost" type="button" hidden>Stop</button>
          </div>
          <div id="chat-alert" class="chat-alert" role="status" aria-live="polite"></div>
        </form>
      </div>
      </section>
    <aside id="chat-help" class="chat-help" aria-label="Shortcuts and tips">
      <h2 class="h4">Tips</h2>
      <ul class="chip-list">
        <li><button class="chip" data-fill="Summarize the Psyber Nexus concept.">Concept summary</button></li>
        <li><button class="chip" data-fill="Explain the role of psychology in cybersecurity.">Psychology × Cyber</button></li>
        <li><button class="chip" data-fill="Outline ethical guidelines and provenance for analyses.">Ethics & provenance</button></li>
      </ul>
    </aside>
    <button id="tips-toggle" class="tips-toggle btn ghost" aria-controls="tips-drawer" aria-expanded="false" aria-label="Open tips" hidden>Tips</button>
    <div id="tips-drawer" class="tips-drawer" hidden>
      <div class="tips-sheet">
        <header class="tips-bar">
          <strong>Tips</strong>
          <button id="tips-close" class="icon-btn" aria-label="Close">✕</button>
        </header>
        <div class="tips-body"></div>
      </div>
    </div>
  </main>

  <script type="module" src="/assets/js/chat.js"></script>
</body>
</html>
